function a12_0x201c(){const _0xad33d1=['/committee/accept','appointTask','getNewTimeStamp','/committee/appoint','1414356EeJJbh','parse','../../dataset/task/data.json','express','更新失败','13473DQlTqI','addTask','/getRelatedTaskListByUserId','post','path','18vGBRON','success','status','/grid/finish','send','/street/postTask','委派taskId','1030328lwAiNp','/grid/accept','Router','body','/street/sendFireTask','26992130VNZrOU','/cell/accept','maxBy','委派userId','859747yGxnMs','log','addFireTask','userId','../service/FactoryService','readFileSync','gridAcceptTask','297945tdhIFh','UTF-8','11TiNmkD','4759620kUwBAK','taskId','/cell/appoint','participantList','/street/updateAccidentTimeStamp','3992ddzQcR','网格管理员委派的信息','3wzwbPl','json','接收taskId','resolve','gridFinishTask','更新失败:','acceptTask'];a12_0x201c=function(){return _0xad33d1;};return a12_0x201c();}const a12_0x3df7f0=a12_0x3c44;function a12_0x3c44(_0x4ba380,_0x415ea8){const _0x201cac=a12_0x201c();return a12_0x3c44=function(_0x3c4434,_0x1f0f0e){_0x3c4434=_0x3c4434-0xb1;let _0x546864=_0x201cac[_0x3c4434];return _0x546864;},a12_0x3c44(_0x4ba380,_0x415ea8);}(function(_0x3ed928,_0x4b0165){const _0x2f9dba=a12_0x3c44,_0x507b7e=_0x3ed928();while(!![]){try{const _0x318c43=parseInt(_0x2f9dba(0xde))/0x1+parseInt(_0x2f9dba(0xbd))/0x2*(-parseInt(_0x2f9dba(0xb2))/0x3)+parseInt(_0x2f9dba(0xce))/0x4+-parseInt(_0x2f9dba(0xe1))/0x5+-parseInt(_0x2f9dba(0xc7))/0x6*(parseInt(_0x2f9dba(0xd7))/0x7)+-parseInt(_0x2f9dba(0xe6))/0x8*(parseInt(_0x2f9dba(0xc2))/0x9)+-parseInt(_0x2f9dba(0xd3))/0xa*(-parseInt(_0x2f9dba(0xe0))/0xb);if(_0x318c43===_0x4b0165)break;else _0x507b7e['push'](_0x507b7e['shift']());}catch(_0x45ebd7){_0x507b7e['push'](_0x507b7e['shift']());}}}(a12_0x201c,0x753ac));const express=require(a12_0x3df7f0(0xc0)),router=express[a12_0x3df7f0(0xd0)](),fs=require('fs'),path=require(a12_0x3df7f0(0xc6)),taskDataPath=path[a12_0x3df7f0(0xb5)](__dirname,a12_0x3df7f0(0xbf)),taskService=require('../service/TaskService.js'),factoryService=require(a12_0x3df7f0(0xdb)),_=require('lodash');router[a12_0x3df7f0(0xc5)](a12_0x3df7f0(0xc4),function(_0x1a5266,_0x1df8f8){const _0x2b779c=a12_0x3df7f0,_0x12a371=Number(_0x1a5266[_0x2b779c(0xd1)]['userId']),_0x8ba49a=taskService['getRelatedTaskListByUserId'](_0x12a371);_0x1df8f8[_0x2b779c(0xb3)](_0x8ba49a);}),router[a12_0x3df7f0(0xc5)](a12_0x3df7f0(0xe5),async(_0x57349a,_0x2f3290)=>{const _0x4d503f=a12_0x3df7f0,{timeStamp:_0x1ad878}=_0x57349a['body'];console['log'](_0x1ad878);try{await taskService['updateAccidentTime'](_0x1ad878),_0x2f3290[_0x4d503f(0xcb)]('success');}catch(_0x1ebbb4){console['error'](_0x4d503f(0xb7),_0x1ebbb4),_0x2f3290[_0x4d503f(0xc9)](0x1f4)['send'](_0x4d503f(0xc1));}}),router['get']('/street/getNewTimeStamp',function(_0x556660,_0x24784c){const _0x573b26=a12_0x3df7f0;_0x24784c['json'](taskService[_0x573b26(0xbb)]());}),router[a12_0x3df7f0(0xc5)](a12_0x3df7f0(0xd2),function(_0x3d9cb5,_0x512e5c){const _0x5292aa=a12_0x3df7f0;let {title:_0x187158,description:_0x4c4ef1,status:_0x266818,createTime:_0x309aca,scheduledTime:_0xa9289c,finishTime:_0x5ade55,participantInfo:_0x531fe4}=_0x3d9cb5[_0x5292aa(0xd1)];_0x531fe4=JSON[_0x5292aa(0xbe)](_0x531fe4),_0x266818=Number(_0x266818),console['log'](_0x531fe4),_0x266818=Number(_0x266818),taskService[_0x5292aa(0xd9)](_0x187158,_0x4c4ef1,_0x266818,_0x309aca,_0xa9289c,_0x5ade55,_0x531fe4);let _0x5c6d44=JSON[_0x5292aa(0xbe)](fs[_0x5292aa(0xdc)](taskDataPath,_0x5292aa(0xdf)));console[_0x5292aa(0xd8)](_['maxBy'](_0x5c6d44,_0x3897f2=>_0x3897f2['id'])['id']);let _0x10fada=_[_0x5292aa(0xd5)](_0x5c6d44,_0x113679=>_0x113679['id'])['id'];console[_0x5292aa(0xd8)]('id',_0x10fada),_0x512e5c['json']({'status':_0x5292aa(0xc8),'id':_0x10fada});}),router[a12_0x3df7f0(0xc5)](a12_0x3df7f0(0xcc),function(_0x298802,_0x15d1c9){const _0x40a9a4=a12_0x3df7f0;let {title:_0x5dcccf,description:_0x1123ce,scheduledTime:_0x443aa6,streetIdList:_0x4307d9,streetUserIdList:_0x53c1b1,committeeIdList:_0x5d86ba,committeeUserIdList:_0x4345b8}=_0x298802[_0x40a9a4(0xd1)];_0x4307d9=JSON['parse'](_0x4307d9),_0x53c1b1=JSON['parse'](_0x53c1b1),_0x5d86ba=JSON[_0x40a9a4(0xbe)](_0x5d86ba),_0x4345b8=JSON['parse'](_0x4345b8),taskService[_0x40a9a4(0xc3)](_0x5dcccf,_0x1123ce,_0x443aa6,_0x4307d9,_0x53c1b1,_0x5d86ba,_0x4345b8),_0x15d1c9[_0x40a9a4(0xcb)](_0x40a9a4(0xc8));}),router['post'](a12_0x3df7f0(0xb9),function(_0x5d8da4,_0x5ca1fa){const _0x48e6ff=a12_0x3df7f0,_0x1f41f8=Number(_0x5d8da4[_0x48e6ff(0xd1)][_0x48e6ff(0xe2)]),_0x211108=Number(_0x5d8da4[_0x48e6ff(0xd1)][_0x48e6ff(0xda)]);taskService['acceptTask'](_0x1f41f8,_0x211108),_0x5ca1fa['send'](_0x48e6ff(0xc8));}),router['post'](a12_0x3df7f0(0xbc),function(_0x351762,_0xff7695){const _0x157da7=a12_0x3df7f0,_0x30e4d7=Number(_0x351762[_0x157da7(0xd1)][_0x157da7(0xe2)]);console[_0x157da7(0xd8)](_0x157da7(0xda),_0x351762[_0x157da7(0xd1)][_0x157da7(0xda)]),console['log']('taskId',_0x351762['body']['taskId']);const _0x1144bf=Number(_0x351762[_0x157da7(0xd1)][_0x157da7(0xda)]);console[_0x157da7(0xd8)]('居委会委派的信息',_0x351762['body']['participantList']);const _0x3456c6=JSON[_0x157da7(0xbe)](_0x351762['body'][_0x157da7(0xe4)]);taskService[_0x157da7(0xba)](_0x30e4d7,_0x1144bf,_0x3456c6),_0xff7695[_0x157da7(0xcb)](_0x157da7(0xc8));}),router[a12_0x3df7f0(0xc5)](a12_0x3df7f0(0xd4),function(_0x1893b7,_0x1a02f9){const _0x1d75f0=a12_0x3df7f0,_0x304def=Number(_0x1893b7[_0x1d75f0(0xd1)][_0x1d75f0(0xe2)]);console[_0x1d75f0(0xd8)]('============================================'),console['log']('接收userId',_0x1893b7[_0x1d75f0(0xd1)][_0x1d75f0(0xda)]),console['log'](_0x1d75f0(0xb4),_0x1893b7[_0x1d75f0(0xd1)][_0x1d75f0(0xe2)]);const _0x432128=Number(_0x1893b7[_0x1d75f0(0xd1)][_0x1d75f0(0xda)]);taskService[_0x1d75f0(0xb8)](_0x304def,_0x432128),_0x1a02f9[_0x1d75f0(0xcb)](_0x1d75f0(0xc8));}),router[a12_0x3df7f0(0xc5)](a12_0x3df7f0(0xe3),function(_0x142360,_0x309b76){const _0x3070b2=a12_0x3df7f0,_0x41c856=Number(_0x142360[_0x3070b2(0xd1)][_0x3070b2(0xe2)]),_0x4b620b=Number(_0x142360[_0x3070b2(0xd1)][_0x3070b2(0xda)]);console[_0x3070b2(0xd8)](_0x3070b2(0xd6),_0x142360[_0x3070b2(0xd1)]['userId']),console[_0x3070b2(0xd8)](_0x3070b2(0xcd),_0x142360[_0x3070b2(0xd1)][_0x3070b2(0xe2)]),console[_0x3070b2(0xd8)](_0x3070b2(0xb1),_0x142360['body']['participantList']);const _0x242c2a=JSON[_0x3070b2(0xbe)](_0x142360['body'][_0x3070b2(0xe4)]);taskService['appointTaskToGrid'](_0x41c856,_0x4b620b,_0x242c2a),_0x309b76[_0x3070b2(0xcb)](_0x3070b2(0xc8));}),router['post'](a12_0x3df7f0(0xcf),function(_0x310aab,_0x6a2243){const _0x5a27e=a12_0x3df7f0,_0x2eea0b=Number(_0x310aab[_0x5a27e(0xd1)][_0x5a27e(0xe2)]),_0x19afbb=Number(_0x310aab[_0x5a27e(0xd1)][_0x5a27e(0xda)]),_0x181ef4=_0x310aab['body']['plan'];taskService[_0x5a27e(0xdd)](_0x2eea0b,_0x19afbb,_0x181ef4),_0x6a2243[_0x5a27e(0xcb)]('success');}),router['post'](a12_0x3df7f0(0xca),function(_0x41b1cc,_0x488d0b){const _0x34bc5e=a12_0x3df7f0,_0x2f3f40=Number(_0x41b1cc['body'][_0x34bc5e(0xe2)]),_0x30c5ec=Number(_0x41b1cc[_0x34bc5e(0xd1)][_0x34bc5e(0xda)]),_0x4d4640=_0x41b1cc[_0x34bc5e(0xd1)]['result'];taskService[_0x34bc5e(0xb6)](_0x2f3f40,_0x30c5ec,_0x4d4640),_0x488d0b[_0x34bc5e(0xcb)]('success');}),module['exports']=router;