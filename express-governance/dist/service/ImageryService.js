const a27_0x419e4a=a27_0x5040;(function(_0x3bd88e,_0x5e8535){const _0x3e4572=a27_0x5040,_0x513798=_0x3bd88e();while(!![]){try{const _0x43eb20=parseInt(_0x3e4572(0x1ca))/0x1+parseInt(_0x3e4572(0x1e4))/0x2+parseInt(_0x3e4572(0x1d9))/0x3+-parseInt(_0x3e4572(0x1d7))/0x4+-parseInt(_0x3e4572(0x1cd))/0x5+-parseInt(_0x3e4572(0x1c6))/0x6+-parseInt(_0x3e4572(0x1e8))/0x7;if(_0x43eb20===_0x5e8535)break;else _0x513798['push'](_0x513798['shift']());}catch(_0x30bd92){_0x513798['push'](_0x513798['shift']());}}}(a27_0xc4c7,0x4b079));const fs=require(a27_0x419e4a(0x1da)),_=require(a27_0x419e4a(0x1db)),path=require(a27_0x419e4a(0x1dd)),imageryModel=require(a27_0x419e4a(0x1cf)),express=require(a27_0x419e4a(0x1e0)),commonUtils=require(a27_0x419e4a(0x1c5)),AppConfig=require(a27_0x419e4a(0x1d5)),uuid=require('uuid');function a27_0x5040(_0x3bb075,_0x3babeb){const _0xc4c7aa=a27_0xc4c7();return a27_0x5040=function(_0x5040b0,_0x54130e){_0x5040b0=_0x5040b0-0x1c5;let _0x4cb9da=_0xc4c7aa[_0x5040b0];return _0x4cb9da;},a27_0x5040(_0x3bb075,_0x3babeb);}function a27_0xc4c7(){const _0x3fe7af=['../model/ImageryModel.js','slice','extname','exports','children','.jpg','../../config/AppConfig','sort','34520cHIyhq','.png','568686ahSodP','fs/promises','lodash','relative','path','name','type','express','includes','push','getSubStaticResource','704294smtwxf','isDirectory','selImageryList','replaceAll','396550usPhYt','directory','../utils/CommonUtils.js','1053018smderV','filter','basename','length','575981WSjdoD','staticResourcePath','last','2847930uMOnZf','readdir'];a27_0xc4c7=function(){return _0x3fe7af;};return a27_0xc4c7();}function searchImageryListByPage(_0x82d266,_0x4b779a,_0x5a672a){const _0x459254=a27_0x419e4a;let _0x10588b=imageryModel[_0x459254(0x1e6)]()[_0x459254(0x1c7)](_0xb6075e=>_0xb6075e['name'][_0x459254(0x1e1)](_0x82d266));return{'totalNum':_0x10588b[_0x459254(0x1c9)],'list':_0x10588b[_0x459254(0x1d0)]((_0x4b779a-0x1)*_0x5a672a,_0x4b779a*_0x5a672a)};}async function getFileStructure(_0x5de528){const _0x3c34db=a27_0x419e4a,_0x481334=_[_0x3c34db(0x1cc)](_0x5de528['split']('/')),_0xa75af2=await fs[_0x3c34db(0x1ce)](_0x5de528),_0x494034={'name':_0x481334,'path':_0x5de528,'type':'directory','children':[]};for(let _0x4be567 of _0xa75af2){const _0x454006=path['join'](_0x5de528,_0x4be567),_0x2540f5=await fs['stat'](_0x454006);_0x2540f5[_0x3c34db(0x1e5)]()?_0x494034[_0x3c34db(0x1d3)][_0x3c34db(0x1e2)](getFileStructure(_0x454006)):_0x494034[_0x3c34db(0x1d3)][_0x3c34db(0x1e2)]({'name':_0x4be567,'path':_0x454006,'type':'file'});}return _0x494034;}function getSubStaticResource(_0x200342){const _0x28a6b0=a27_0x419e4a,_0x403cce=AppConfig[_0x28a6b0(0x1cb)];let _0x2934bf=commonUtils[_0x28a6b0(0x1e3)](_0x200342);return _0x2934bf=_0x2934bf[_0x28a6b0(0x1c7)](_0x3c0fb1=>{const _0x58a4c9=_0x28a6b0;return _0x3c0fb1[_0x58a4c9(0x1df)]===_0x58a4c9(0x1e9)||[_0x58a4c9(0x1d8),_0x58a4c9(0x1d4),'.jpeg']['some'](_0x3fae6b=>_0x3fae6b===path['extname'](_0x3c0fb1['path']));})[_0x28a6b0(0x1d6)]((_0x5f27b4,_0x248139)=>{const _0x62ed66=_0x28a6b0,_0x5d23ea=path[_0x62ed66(0x1c8)](_0x5f27b4['name'],path[_0x62ed66(0x1d1)](_0x5f27b4[_0x62ed66(0x1de)])),_0x5786a7=path['basename'](_0x248139[_0x62ed66(0x1de)],path['extname'](_0x5f27b4['name']));return Number(_0x5d23ea)-Number(_0x5786a7);})['sort']((_0x356246,_0xa60497)=>{const _0xe5cfa2=_0x28a6b0;if(_0x356246[_0xe5cfa2(0x1df)]===_0xa60497[_0xe5cfa2(0x1df)])return 0x0;else return _0x356246[_0xe5cfa2(0x1df)]===_0xe5cfa2(0x1e9)?-0x1:0x1;})['map'](_0x29927a=>{const _0xca8a3c=_0x28a6b0;return _0x29927a[_0xca8a3c(0x1dd)]='/'+path[_0xca8a3c(0x1dc)](_0x403cce,_0x29927a['path'])[_0xca8a3c(0x1e7)]('\x5c','/'),_0x29927a;}),_0x2934bf;}module[a27_0x419e4a(0x1d2)]={'searchImageryListByPage':searchImageryListByPage,'getSubStaticResource':getSubStaticResource};