const a17_0x1cb0a8=a17_0x2a25;(function(_0x367a6f,_0x5b2754){const _0x51ba19=a17_0x2a25,_0x12d1e7=_0x367a6f();while(!![]){try{const _0x2d689d=parseInt(_0x51ba19(0x104))/0x1*(parseInt(_0x51ba19(0xf7))/0x2)+parseInt(_0x51ba19(0xe5))/0x3*(parseInt(_0x51ba19(0xf1))/0x4)+-parseInt(_0x51ba19(0xfa))/0x5+parseInt(_0x51ba19(0x102))/0x6+-parseInt(_0x51ba19(0xfe))/0x7+parseInt(_0x51ba19(0xfb))/0x8+-parseInt(_0x51ba19(0x100))/0x9*(parseInt(_0x51ba19(0xee))/0xa);if(_0x2d689d===_0x5b2754)break;else _0x12d1e7['push'](_0x12d1e7['shift']());}catch(_0x4ae0e6){_0x12d1e7['push'](_0x12d1e7['shift']());}}}(a17_0x3a39,0xf2a4c));function a17_0x2a25(_0x3cb5a3,_0x37ef2a){const _0x3a39df=a17_0x3a39();return a17_0x2a25=function(_0x2a251a,_0x316357){_0x2a251a=_0x2a251a-0xdb;let _0x305d36=_0x3a39df[_0x2a251a];return _0x305d36;},a17_0x2a25(_0x3cb5a3,_0x37ef2a);}const {LifterFaultStory}=require(a17_0x1cb0a8(0xf9)),{getBaseInfo,LIFTER_TYPE}=require(a17_0x1cb0a8(0xf2)),{RegularStory}=require('./story/RegularStory'),{lifterList,lightList,areaData}=getBaseInfo();class GarageTable{constructor(){const _0x552fc8=a17_0x1cb0a8;this[_0x552fc8(0xdc)]=0x1,this['wsList']=[],this['messageInterval']=undefined,this[_0x552fc8(0x101)]=lifterList,this[_0x552fc8(0xeb)]=lightList,this['storynum']=0x1,this[_0x552fc8(0xef)]=new LifterFaultStory(this),this[_0x552fc8(0xe1)]=new RegularStory(this);}[a17_0x1cb0a8(0xe9)](){const _0x179d06=a17_0x1cb0a8;this[_0x179d06(0xde)]===0x2&&(this[_0x179d06(0xef)][_0x179d06(0xec)](0x1),this[_0x179d06(0xdb)]()),this['messageInterval']=setInterval(()=>{const _0x34933a=_0x179d06;this[_0x34933a(0xed)]();},this[_0x179d06(0xdc)]*0x3e8);}[a17_0x1cb0a8(0xdb)](){const _0x1ccab4=a17_0x1cb0a8;this['LifterFaultStory'][_0x1ccab4(0x101)][_0x1ccab4(0xdd)](_0x233770=>{const _0x4f2d9a=_0x1ccab4;this['changeLifterStatus'](0x1,0x1),this[_0x4f2d9a(0xf5)](0x1),_0x233770['status']===LIFTER_TYPE['LIFTER_STATUS_AUTO']&&this['downLifter'](_0x233770['id']);});}[a17_0x1cb0a8(0xdf)](){const _0x3a39ba=a17_0x1cb0a8;this[_0x3a39ba(0xe1)][_0x3a39ba(0x101)][_0x3a39ba(0xdd)](_0x1bf922=>{const _0x51090d=_0x3a39ba;this[_0x51090d(0xe3)](_0x1bf922['id'],0x0),_0x1bf922['status']===LIFTER_TYPE['LIFTER_STATUS_AUTO']&&this[_0x51090d(0xf5)](_0x1bf922['id']);});}[a17_0x1cb0a8(0xf3)](){const _0x19fd7f=a17_0x1cb0a8;clearInterval(this['messageInterval']),console[_0x19fd7f(0x103)](_0x19fd7f(0xf6));}[a17_0x1cb0a8(0x105)](){const _0x2031fa=a17_0x1cb0a8;clearInterval(this[_0x2031fa(0xe6)]),this[_0x2031fa(0xe6)]=undefined;}['sendMessage'](){const _0x2a46dd=a17_0x1cb0a8,_0x1185aa=this[_0x2a46dd(0xe8)](this['storynum']);this[_0x2a46dd(0xe4)][_0x2a46dd(0xdd)](_0x5ad72f=>{const _0x102e40=_0x2a46dd;_0x5ad72f['send'](JSON[_0x102e40(0xe7)](_0x1185aa));});}[a17_0x1cb0a8(0xe8)](_0x604d8b){const _0xd347f6=a17_0x1cb0a8;if(_0x604d8b===0x1)return{'tag':_0xd347f6(0xea),'data':this[_0xd347f6(0xe1)][_0xd347f6(0xe8)]()};else{if(_0x604d8b===0x2)return{'tag':_0xd347f6(0xea),'data':this[_0xd347f6(0xef)]['getMessage']()};}}[a17_0x1cb0a8(0xfc)](_0x2acc54){const _0x37c0de=a17_0x1cb0a8;this[_0x37c0de(0xe4)][_0x37c0de(0xe0)](_0x2acc54);}['removeWs'](_0x4a7ccc){const _0x11d41f=a17_0x1cb0a8;let _0x2fa241=this[_0x11d41f(0xe4)]['findIndex'](_0x5bf9f1=>_0x5bf9f1===_0x4a7ccc);_0x2fa241!==-0x1&&this['wsList'][_0x11d41f(0xf4)](_0x2fa241,0x1);}[a17_0x1cb0a8(0xff)](_0x4d24b7){const _0x4967d9=a17_0x1cb0a8;_0x4d24b7=parseInt(_0x4d24b7);const _0x3715ba=this[_0x4967d9(0x101)]['find'](_0x1558e5=>_0x1558e5['id']===_0x4d24b7&&_0x1558e5['status']!==LIFTER_TYPE['LIFTER_STATUS_ANOMALY']);_0x3715ba&&(_0x3715ba['isRaised']=!![]);}['downLifter'](_0xd6d0b1){const _0x7dc04=a17_0x1cb0a8;_0xd6d0b1=parseInt(_0xd6d0b1);const _0x1369fc=this[_0x7dc04(0x101)][_0x7dc04(0xf0)](_0x389640=>_0x389640['id']===_0xd6d0b1&&_0x389640['status']!==LIFTER_TYPE['LIFTER_STATUS_ANOMALY']);_0x1369fc&&(_0x1369fc['isRaised']=![]);}[a17_0x1cb0a8(0xe3)](_0x4fa54e,_0x40ca6c){const _0x2c1e7e=a17_0x1cb0a8,_0x4a42ab=this[_0x2c1e7e(0x101)][_0x2c1e7e(0xf0)](_0x504cdc=>_0x504cdc['id']===_0x4fa54e&&_0x504cdc[_0x2c1e7e(0xe2)]!==LIFTER_TYPE[_0x2c1e7e(0xf8)]);_0x4a42ab&&(_0x4a42ab[_0x2c1e7e(0xe2)]=_0x40ca6c);}}module[a17_0x1cb0a8(0xfd)]={'GarageTable':GarageTable};function a17_0x3a39(){const _0x3819ba=['6463480prYDor','addWs','exports','4018623ZfSstM','upLifter','2241evZwkC','lifterList','2603862GxqKnN','log','1nNIyLd','endSendMessage','updateLifter_fault','interval','forEach','storynum','updateLifter','push','RegularStory','status','changeLifterStatus','wsList','483DFKgIp','messageInterval','stringify','getMessage','beginSendMessage','garage_status','lightList','resetStory','sendMessage','57170YXiQrJ','LifterFaultStory','find','18608BNWhUY','./utils','stopSendMessage','splice','downLifter','发送消息已停止','2223422CtkOnb','LIFTER_STATUS_ANOMALY','./story/LifterFaultStory','555525kPkwrL'];a17_0x3a39=function(){return _0x3819ba;};return a17_0x3a39();}